echo "ğŸ” Running pre-commit quality checks..."

# 1) Unified structure validation (blocking)
echo "ğŸ“ Validating project structure..."
node scripts/validation/validate-project-structure.cjs
if [ $? -ne 0 ]; then
  echo "âŒ Project structure validation failed. Commit blocked."
  exit 1
fi

# 2) ESLint (blocking)
echo "ğŸ“ Running ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint failed. Commit blocked."
  exit 1
fi

# 3) Mock data detection (blocking)
echo "ğŸš« Checking for mock data violations..."
npm run detect-mock-data
if [ $? -ne 0 ]; then
  echo "âŒ Mock data detected! Commit blocked."
  exit 1
fi

echo "âœ… Pre-commit checks passed."
