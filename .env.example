# ============================================================================
# SGS GITA ALUMNI NETWORK - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and update with your actual values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DB_HOST=localhost
DB_PORT=3306
DB_USER=your_database_user
DB_PASSWORD=your_database_password
DB_NAME=sgs_gita_alumni

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
PORT=5000
NODE_ENV=development
API_BASE_URL=http://localhost:5000

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Session secret for express-session (if used)
SESSION_SECRET=your-session-secret-change-this-in-production

# ============================================================================
# OTP CONFIGURATION
# ============================================================================
# OTP length (typically 6 digits)
OTP_LENGTH=6

# OTP expiry time in minutes
OTP_EXPIRY_MINUTES=5

# Maximum OTP attempts per hour per email
MAX_OTP_ATTEMPTS_PER_HOUR=3

# Maximum OTPs that can be generated per day per email
MAX_DAILY_OTPS=10

# OTP rate limiting window in minutes
OTP_RATE_LIMIT_WINDOW=60

# ============================================================================
# EMAIL SERVICE CONFIGURATION (Choose one provider)
# ============================================================================

# --- Option 1: SendGrid (Recommended for Production) ---
SMTP_PROVIDER=sendgrid
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=apikey
SMTP_PASS=your-sendgrid-api-key-here

# SendGrid API Key (alternative to SMTP)
SENDGRID_API_KEY=your-sendgrid-api-key-here
SENDGRID_FROM_EMAIL=noreply@sgsgitaalumni.org
SENDGRID_FROM_NAME=SGS Gita Alumni Network

# --- Option 2: AWS SES ---
# SMTP_PROVIDER=aws-ses
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-aws-ses-smtp-username
# SMTP_PASS=your-aws-ses-smtp-password

# AWS SES Configuration
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_SES_FROM_EMAIL=noreply@sgsgitaalumni.org
# AWS_SES_FROM_NAME=SGS Gita Alumni Network

# --- Option 3: Gmail (For Development Only) ---
# SMTP_PROVIDER=gmail
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-gmail-address@gmail.com
# SMTP_PASS=your-gmail-app-password

# --- Option 4: Custom SMTP Server ---
# SMTP_PROVIDER=custom
# SMTP_HOST=your-smtp-server.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-smtp-username
# SMTP_PASS=your-smtp-password

# Email Settings
EMAIL_FROM=noreply@sgsgitaalumni.org
EMAIL_FROM_NAME=SGS Gita Alumni Network
EMAIL_SUPPORT=support@sgsgitaalumni.org

# ============================================================================
# SMS SERVICE CONFIGURATION (For SMS OTP)
# ============================================================================
# SMS provider: twilio, aws-sns, or local-test
SMS_PROVIDER=local-test

# --- Twilio Configuration ---
# SMS_PROVIDER=twilio
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# --- AWS SNS Configuration ---
# SMS_PROVIDER=aws-sns
# AWS_SNS_REGION=us-east-1
# AWS_SNS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SNS_SECRET_ACCESS_KEY=your-aws-secret-key

# ============================================================================
# REDIS CONFIGURATION (For Rate Limiting & Caching)
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_ENABLED=false

# ============================================================================
# INVITATION SYSTEM
# ============================================================================
# Invitation token expiry in days
INVITATION_EXPIRY_DAYS=30

# Base URL for invitation links
INVITATION_BASE_URL=http://localhost:5173/invitation

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ORIGIN=http://localhost:5173
CORS_CREDENTIALS=true

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
LOG_LEVEL=info
ENABLE_LOGGING=true
ENABLE_MONITORING=false

# Sentry Configuration (Optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ============================================================================
# ADMIN CONFIGURATION
# ============================================================================
# Default admin credentials (change immediately after setup)
ADMIN_EMAIL=admin@sgsgitaalumni.org
ADMIN_PASSWORD=change-this-password-immediately

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_REGISTRATION=false
ENABLE_INVITATION_ONLY=true
ENABLE_OTP_AUTH=true
ENABLE_TOTP_AUTH=true
ENABLE_SMS_OTP=false
ENABLE_EMAIL_VERIFICATION=true

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# DEVELOPMENT/TESTING SETTINGS
# ============================================================================
# Skip email sending in development (log to console instead)
DEV_SKIP_EMAIL=false

# Show OTP in console for development
DEV_LOG_OTP=true

# Test mode (use predefined OTP: 123456)
TEST_MODE=false
TEST_OTP=123456

# ============================================================================
# PRODUCTION SETTINGS
# ============================================================================
# SSL/TLS Configuration
SSL_ENABLED=false
SSL_CERT_PATH=
SSL_KEY_PATH=

# Production domain
PRODUCTION_DOMAIN=sgsgitaalumni.org

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit the actual .env file to version control
# 2. Keep production secrets in a secure vault (AWS Secrets Manager, etc.)
# 3. Rotate secrets regularly
# 4. Use strong, unique passwords for each environment
# 5. Enable 2FA for all email and SMS service accounts
# 6. Review and update this configuration before deployment
